<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calculadora de Renegociação</title> <!-- Título Atualizado -->
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet" />
</head>
<body class="theme-dark">
  <div class="calculator-container">
    <div class="calculator-header">
      <h1>🤝 Calculadora de Renegociação</h1> <!-- Título Atualizado -->
    </div>

    <!-- Steps Atualizados (3 Passos) -->
    <div class="calculator-steps">
      <div class="progress-bar">
        <div class="progress-step active" data-step="1">
          <div class="step-icon">1</div>
          <div class="step-label">Dados Atuais</div> <!-- Label Atualizado -->
        </div>
        <div class="progress-step" data-step="2">
          <div class="step-icon">2</div>
          <div class="step-label">Parcelamento</div> <!-- Label Atualizado -->
        </div>
        <div class="progress-step" data-step="3">
          <div class="step-icon">3</div>
          <div class="step-label">Resumo</div> <!-- Label Atualizado -->
        </div>
         <!-- Remover/Ocultar o 4º Passo se não for usado -->
        <div class="progress-line"></div>
        <div class="progress-indicator"></div>
      </div>
    </div>

    <div class="calculator-body">
      <!-- Etapa 1: Dados Atuais (Nome, CPF, Saldo Devedor, Novo Dia Pagamento) -->
      <div id="etapa1" class="etapa ativa">
        <h2>Dados da Renegociação</h2>
        <div class="form-row">
          <div class="form-group">
            <label for="nome-completo">👤 Nome Completo:</label>
            <input type="text" id="nome-completo" class="form-control" placeholder="Nome do cliente" required autocomplete="name" />
            <div class="error-message" id="error-nome-completo">Nome é obrigatório.</div>
          </div>
          <div class="form-group">
            <label for="cpf">🧾 CPF:</label>
            <input type="text" id="cpf" class="form-control" required placeholder="000.000.000-00" autocomplete="off" pattern="\d{3}\.\d{3}\.\d{3}-\d{2}" title="Digite o CPF no formato 000.000.000-00"/>
             <div class="error-message" id="error-cpf">CPF inválido ou obrigatório.</div>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <!-- Input para Saldo Devedor Atual -->
            <label for="saldo-devedor">💰 Saldo Devedor Atual (R$):</label>
            <div class="valor-input-container">
               <!-- Input como text para formatação -->
               <input type="text" id="saldo-devedor" class="form-control" placeholder="R$ 500,00" inputmode="decimal" required />
            </div>
             <div class="error-message" id="error-saldo-devedor">Valor inválido.</div>
           </div>
           <div class="form-group">
              <!-- Novo Dia de Pagamento para a renegociação -->
              <label for="novo-dia-pagamento">🗓️ Dia da 1º Parcela:</label>
              <select id="novo-dia-pagamento" class="form-select" required>
                  <option value="" disabled selected>Selecione o dia</option>
                  <option value="5">Dia 05</option>
                  <option value="10">Dia 10</option>
                  <option value="15">Dia 15</option>
                  <option value="20">Dia 20</option>
                  <option value="25">Dia 25</option>
                  <option value="30">Dia 30</option>
              </select>
               <div class="error-message" id="error-novo-dia-pagamento">Selecione um dia.</div>
           </div>
        </div>

        <div class="navigation-buttons">
          <!-- Botão ID Atualizado -->
          <button id="btn-ir-para-parcelas" class="btn btn-primary">Avançar para Parcelamento</button>
        </div>
      </div>

      <!-- Etapa 2: Parcelamento da Renegociação -->
      <div id="etapa2" class="etapa">
         <h2>Parcelamento da Renegociação</h2>
        <div class="form-group">
          <label>🧮 Pagar saldo devedor em quantas vezes?</label>
           
          <!-- Container ID Atualizado -->
          <div class="parcelas-options" id="parcelas-reneg-options">
             <!-- Opções serão geradas aqui -->
             <div class="error-message" id="error-parcelas-reneg">Selecione uma opção.</div> <!-- ID da Mensagem Atualizado -->
          </div>
        </div>
        <div class="navigation-buttons">
           <!-- Botões ID Atualizados -->
          <button id="btn-voltar-para-dados" class="btn btn-secondary">Voltar</button>
          <button id="btn-ir-para-resumo-reneg" class="btn btn-primary">Avançar para Resumo</button> <!-- ID Atualizado -->
        </div>
      </div>

      <!-- Etapa 3: Resumo da Renegociação -->
      <div id="etapa3" class="etapa">
         <h2>Resumo da Renegociação</h2>
        <div class="resultado-parcelas">
          <h3>📝 Resumo da Proposta</h3> <!-- Título Atualizado -->
          <!-- Campos do Resumo Atualizados -->
          <div class="resultado-item"><span>👤 Nome:</span><span id="resumo-reneg-nome">-</span></div>
          <div class="resultado-item"><span>🧾 CPF:</span><span id="resumo-reneg-cpf">-</span></div>
          <div class="resultado-item"><span>💰 Saldo Renegociado:</span><span id="resumo-reneg-saldo">-</span></div>
          <div class="resultado-item"><span>💳 Novas Parcelas:</span><span id="resumo-reneg-qtd-parcelas">-</span></div>
          <div class="resultado-item"><span>💸 Valor da Nova Parcela:</span><span id="resumo-reneg-valor-parcela">-</span></div>
          <div class="resultado-item"><span>📅 1ª Nova Parcela:</span><span id="resumo-reneg-data-primeira">-</span></div>
          <div class="resultado-item"><span>📆 Última Nova Parcela:</span><span id="resumo-reneg-data-ultima">-</span></div>
           <div class="resultado-item confirmation-message">
             <span></span>
             <span>Confirme os detalhes da renegociação.</span>
           </div>
        </div>
        <div class="navigation-buttons">
          <!-- Botões ID Atualizados -->
          <button id="btn-voltar-para-parcelas" class="btn btn-secondary">Voltar</button>
          <button id="btn-finalizar-reneg" class="btn btn-success">✓ Confirmar e Enviar para WhatsApp</button> <!-- ID Atualizado -->
        </div>
      </div>
       <!-- Etapa 4 original removida/oculta -->

    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>